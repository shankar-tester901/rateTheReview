'use strict';
var http = require('http');
var https = require('https');
var agentMap = {};
var RequestAgent = /** @class */ (function () {
    function RequestAgent(protocol, host, replaceAgent) {
        var isHttps = protocol === 'https:';
        if (agentMap[protocol] === undefined) {
            agentMap[protocol] = {};
        }
        var protocolMap = agentMap[protocol];
        if (protocolMap[host] === undefined || replaceAgent || false) {
            protocolMap[host] = isHttps
                ? new https.Agent({ keepAlive: true })
                : new http.Agent({ keepAlive: true });
        }
        this.agent = protocolMap[host];
    }
    return RequestAgent;
}());
exports.RequestAgent = RequestAgent;
